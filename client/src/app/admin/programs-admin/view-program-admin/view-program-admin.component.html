<header class="w-full gradient h-64 max-h-64">
    <div class="h-16"></div>
    <div class="container mx-auto p-8" *ngFor="let detail of detailsArray">
        <div class="flex flex-row w-full justify-between items-end">
            <div>
                <p class="text-neutral-100 mt-1 opacity-75 tracking-widest">{{detail.id}}</p>
                <div class="flex items-center">
                    <h2 class="font-semibold truncate text-3xl tracking-tight text-white opacity-95">{{detail.title}}
                    </h2>
                    <div class="ml-2">
                        <span *ngIf="detail.status === 'upcoming'"
                            class="bg-yellow-100 text-yellow-700 text-xs font-medium mr-2 px-2.5 py-1 h-fit rounded">
                            Ongoing in <span>{{ computeDuration(detail.start_date, detail.end_date) }}</span>
                        </span>
                        <span *ngIf="detail.status === 'ongoing'"
                            class="bg-blue-100 text-blue-700 text-xs font-medium mr-2 px-2.5 py-1 h-fit rounded">
                            Ended in <span>{{ computeDuration(getCurrentDate(), detail.end_date) }}</span>
                        </span>
                        <span *ngIf="detail.status === 'completed'"
                            class="bg-green-100 text-green-700 text-xs font-medium mr-2 px-2.5 py-1 h-fit rounded">
                            Completed <span>{{ computeDuration(detail.end_date, getCurrentDate()) }}</span> ago
                        </span>
                        <span *ngIf="detail.status === 'ended'"
                            class="bg-red-100 text-red-700 text-xs font-medium mr-2 px-2.5 py-1 h-fit rounded-lg">
                            <span class="capitalize">{{ detail.status }}</span> <span>{{
                                computeDuration(detail.end_date, getCurrentDate()) }}</span> ago
                        </span>
                        <span *ngIf="detail.status === 'draft' || detail.status === 'archived'"
                            class="bg-neutral-100 text-neutral-700 text-xs font-medium mr-2 px-2.5 py-1 h-fit rounded">
                            <span class="capitalize">{{ detail.status }} </span> <span>{{
                                computeDuration(detail.end_date, getCurrentDate()) }}</span> ago
                        </span>
                    </div>
                </div>

            </div>

            <div class="flex gap-2">

            </div>
        </div>

    </div>
    <div class="h-16"></div>
</header>

<!-- Content area -->
<main class="gap-4 container mx-auto px-8 -m-12 grid grid-cols-4" *ngFor="let detail of detailsArray">
    <section class="flex flex-col rounded-lg shadow col-span-3 p-8 bg-white gap-8 h-fit">
        <div>
            <h5 class="font-medium">Details</h5>
            <p class="mt-6 text-sm text-neutral-700" [innerText]="detail.details"></p>
        </div>
        <hr class="col-span-4">
        <div>
            <h5 class="font-medium">Flow</h5>
            <p class="mt-6 text-sm text-neutral-700" [innerHTML]="detail.flow"></p>
        </div>
        <hr class="col-span-4">
        <div>
            <h5 class="font-medium">Flow</h5>
            <p class="mt-6 text-sm text-neutral-700" [innerHTML]="detail.additional_detail"></p>
        </div>
    </section>

    <section class="flex flex-col gap-4">

        <div class="rounded-lg shadow p-8 bg-white">
            <h5 class="font-medium">Partner</h5>
            <div class="flex gap-4 justify-between mt-6 ">
                <div class="my-auto">
                    <p class="font font-semibold text-neutral-700">{{detail.name}}</p>
                    <p class="text-xs text-neutral-500">{{detail.partner}}</p>
                </div>
                <ngx-avatar class="h-12 w-12 rounded-full object-cover object-top flex-none"
                    [src]="'http://127.0.0.1:8000/partners/' + detail.partner + '/logo.webp'"
                    [name]="detail.name.charAt(0)" [size]="48" [bgColor]>
                </ngx-avatar>
            </div>
        </div>

        <div class="rounded-lg shadow p-8 bg-white gap-4 flex flex-col">

            <div class="flex items-start gap-4">
                <svg class="h-5 w-5 text-neutral-500" viewBox="0 0 24 24" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M20.6211 8.45C19.5711 3.83 15.5411 1.75 12.0011 1.75C12.0011 1.75 12.0011 1.75 11.9911 1.75C8.46107 1.75 4.42107 3.82 3.37107 8.44C2.20107 13.6 5.36107 17.97 8.22107 20.72C9.28107 21.74 10.6411 22.25 12.0011 22.25C13.3611 22.25 14.7211 21.74 15.7711 20.72C18.6311 17.97 21.7911 13.61 20.6211 8.45ZM12.0011 13.46C10.2611 13.46 8.85107 12.05 8.85107 10.31C8.85107 8.57 10.2611 7.16 12.0011 7.16C13.7411 7.16 15.1511 8.57 15.1511 10.31C15.1511 12.05 13.7411 13.46 12.0011 13.46Z"
                        fill="currentColor" />
                </svg>
                <p class=" text-sm">{{detail.location}}</p>
            </div>

            <div class="flex items-start gap-4">
                <svg class="h-5 w-5  text-neutral-500" viewBox="0 0 24 24" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M8.25 5.75C7.84 5.75 7.5 5.41 7.5 5V2C7.5 1.59 7.84 1.25 8.25 1.25C8.66 1.25 9 1.59 9 2V5C9 5.41 8.66 5.75 8.25 5.75Z"
                        fill="currentColor" />
                    <path
                        d="M15.75 5.75C15.34 5.75 15 5.41 15 5V2C15 1.59 15.34 1.25 15.75 1.25C16.16 1.25 16.5 1.59 16.5 2V5C16.5 5.41 16.16 5.75 15.75 5.75Z"
                        fill="currentColor" />
                    <path
                        d="M11.9996 14.09C12.5196 14.09 12.8996 13.78 12.8996 13.29C12.8996 12.79 12.5196 12.5 11.9996 12.5C11.4796 12.5 11.0996 12.79 11.0996 13.29C11.0996 13.78 11.4796 14.09 11.9996 14.09Z"
                        fill="currentColor" />
                    <path
                        d="M11.9994 17.0006C12.629 17.0006 13.1394 16.5842 13.1394 16.0706C13.1394 15.557 12.629 15.1406 11.9994 15.1406C11.3698 15.1406 10.8594 15.557 10.8594 16.0706C10.8594 16.5842 11.3698 17.0006 11.9994 17.0006Z"
                        fill="currentColor" />
                    <path
                        d="M19.57 4.5C18.91 4.01 17.96 4.48 17.96 5.31V5.41C17.96 6.58 17.12 7.66 15.95 7.78C14.6 7.92 13.46 6.86 13.46 5.54V4.5C13.46 3.95 13.01 3.5 12.46 3.5H11.54C10.99 3.5 10.54 3.95 10.54 4.5V5.54C10.54 6.33 10.13 7.03 9.51 7.42C9.42 7.48 9.32 7.53 9.22 7.58C9.13 7.63 9.03 7.67 8.92 7.7C8.8 7.74 8.67 7.77 8.53 7.78C8.37 7.8 8.21 7.8 8.05 7.78C7.91 7.77 7.78 7.74 7.66 7.7C7.56 7.67 7.46 7.63 7.36 7.58C7.26 7.53 7.16 7.48 7.07 7.42C6.44 6.98 6.04 6.22 6.04 5.41V5.31C6.04 4.54 5.22 4.08 4.57 4.41C4.56 4.42 4.55 4.42 4.54 4.43C4.5 4.45 4.47 4.47 4.43 4.5C4.4 4.53 4.36 4.55 4.33 4.58C4.05 4.8 3.8 5.05 3.59 5.32C3.48 5.44 3.39 5.57 3.31 5.7C3.3 5.71 3.29 5.72 3.28 5.74C3.19 5.87 3.11 6.02 3.04 6.16C3.02 6.18 3.01 6.19 3.01 6.21C2.95 6.33 2.89 6.45 2.85 6.58C2.82 6.63 2.81 6.67 2.79 6.72C2.73 6.87 2.69 7.02 2.65 7.17C2.61 7.31 2.58 7.46 2.56 7.61C2.54 7.72 2.53 7.83 2.52 7.95C2.51 8.09 2.5 8.23 2.5 8.37V17.13C2.5 19.82 4.68 22 7.37 22H16.63C19.32 22 21.5 19.82 21.5 17.13V8.37C21.5 6.78 20.74 5.39 19.57 4.5ZM12 18.25C10.45 18.25 9.5 17.48 9.5 16.24C9.5 15.56 9.85 14.97 10.46 14.62C10.02 14.31 9.73 13.85 9.73 13.22C9.73 11.92 10.77 11.25 12 11.25C13.23 11.25 14.26 11.92 14.26 13.22C14.26 13.85 13.98 14.31 13.53 14.62C14.15 14.97 14.5 15.56 14.5 16.24C14.5 17.48 13.54 18.25 12 18.25Z"
                        fill="currentColor" />
                </svg>
                <p class=" text-sm">
                    {{ detail.start_date ? (detail.start_date | date:'MMMM dd, yyyy') : 'Not set' }}
                    -
                    {{ detail.end_date ? (detail.end_date | date:'MMMM dd, yyyy') : 'Not set' }}
                </p>
            </div>
        </div>

        <div class="rounded-lg shadow p-8 bg-white gap-4 flex flex-col">
            <h5 class="font-medium">Members</h5>
            <div class="flex flex-row">
                <ngx-avatar class="h-10 w-10 rounded-full object-cover object-top flex-none"
                    [src]="'http://127.0.0.1:8000/users/' + detail.lead + '.webp'"
                    [name]="detail.lead_first_name.charAt(0) + detail.lead_last_name.charAt(0)" [size]="40" [bgColor]>
                </ngx-avatar>
                <div class="flex flex-col ml-4 h-fit my-auto">
                    <p class="font-medium text-neutral-700">
                        {{detail.lead_first_name + ' ' + detail.lead_last_name}}
                    </p>
                    <p class="text-xs text-neutral-500">
                        Team leader
                    </p>
                </div>
            </div>
            <div class="flex flex-col gap-2 -mt-2">
                <div class="flex flex-row" *ngFor="let members of membersArray">
                    <ngx-avatar class="h-10 w-10 rounded-full object-cover object-top flex-none"
                        [src]="'http://127.0.0.1:8000/users/' + members.member_id + '.webp'"
                        [name]="members.member_first_name.charAt(0) + members.member_last_name.charAt(0)" [size]="40"
                        [bgColor]>
                    </ngx-avatar>
                    <div class="flex flex-col ml-4 h-fit my-auto">
                        <p class="font-medium text-neutral-700">
                            {{members.member_first_name + ' ' + members.member_last_name}}
                        </p>
                        <p class="text-xs text-neutral-500">
                            {{members.member_role}}
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <div class="rounded-lg shadow p-8 bg-white gap-4 flex flex-col" *ngIf="detail.status === 'completed'">
            <h5 class="font-medium">Attachments</h5>
            <div class="text-sm font-medium flex flex-col divide-y gap-2">
                <div class="flex justify-between items-center">
                    <div class="flex gap-2 items-center">
                        <svg class="h-6 w-6 text-blue-500" viewBox="0 0 24 24" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M12.3299 12.1499L9.85993 14.6199C8.48993 15.9899 8.48993 18.1999 9.85993 19.5699C11.2299 20.9399 13.4399 20.9399 14.8099 19.5699L18.6999 15.6799C21.4299 12.9499 21.4299 8.50992 18.6999 5.77992C15.9699 3.04992 11.5299 3.04992 8.79993 5.77992L4.55993 10.0199C2.21993 12.3599 2.21993 16.1599 4.55993 18.5099"
                                stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>

                        <a
                            href="https://localhost:8000/partners/{{detail.partner}}/programs/{{detail.id}}/attendance/{{detail.attendance}}">
                            Attendance</a>
                    </div>
                    <a class="link-primary font-semibold"
                        href="https://localhost:8000/partners/{{detail.partner}}/programs/{{detail.id}}/attendance/{{detail.attendance}}">
                        Download</a>
                </div>
                <div class="flex justify-between items-center pt-2">
                    <div class="flex gap-2 items-center">
                        <svg class="h-6 w-6 text-blue-500" viewBox="0 0 24 24" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M12.3299 12.1499L9.85993 14.6199C8.48993 15.9899 8.48993 18.1999 9.85993 19.5699C11.2299 20.9399 13.4399 20.9399 14.8099 19.5699L18.6999 15.6799C21.4299 12.9499 21.4299 8.50992 18.6999 5.77992C15.9699 3.04992 11.5299 3.04992 8.79993 5.77992L4.55993 10.0199C2.21993 12.3599 2.21993 16.1599 4.55993 18.5099"
                                stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>

                        <a
                            href="https://localhost:8000/partners/{{detail.partner}}/programs/{{detail.id}}/certificate/{{detail.certificate}}">
                            Certificate</a>
                    </div>
                    <a class="link-primary font-semibold"
                        href="https://localhost:8000/partners/{{detail.partner}}/programs/{{detail.id}}/certificate/{{detail.certificate}}">
                        Download</a>
                </div>
                <div class="flex justify-between items-center pt-2">
                    <div class="flex gap-2 items-center">
                        <svg class="h-6 w-6 text-blue-500" viewBox="0 0 24 24" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M12.3299 12.1499L9.85993 14.6199C8.48993 15.9899 8.48993 18.1999 9.85993 19.5699C11.2299 20.9399 13.4399 20.9399 14.8099 19.5699L18.6999 15.6799C21.4299 12.9499 21.4299 8.50992 18.6999 5.77992C15.9699 3.04992 11.5299 3.04992 8.79993 5.77992L4.55993 10.0199C2.21993 12.3599 2.21993 16.1599 4.55993 18.5099"
                                stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>

                        <a
                            href="https://localhost:8000/partners/{{detail.partner}}/programs/{{detail.id}}/invitation/{{detail.invitation}}">
                            Invitation</a>
                    </div>
                    <a class="link-primary font-semibold"
                        href="https://localhost:8000/partners/{{detail.partner}}/programs/{{detail.id}}/invitation/{{detail.invitation}}">
                        Download</a>
                </div>
            </div>
        </div>

    </section>

    <div class="h-16"></div>

</main>